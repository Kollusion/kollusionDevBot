import { InlineKeyboard } from "grammy"
import { type AnyContext } from "../utils/types.ts"
import { sendEditMessage } from "../utils/utils.ts"

// –ü—Ä–∏–º–µ—Ä–Ω—ã–π –∫—É—Ä—Å –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å)
const USD_RATE = 100 // 1$ = 100‚ÇΩ

function formatPrice(rub: number): string {
    const usd = Math.round(rub / USD_RATE)
    return `–æ—Ç ${rub.toLocaleString('ru-RU')} ‚ÇΩ / $${usd}`
}

export function services(ctx: AnyContext) {
    const keyboard = new InlineKeyboard()
        .text("üåê –°–∞–π—Ç—ã", "services_web")
        .text("ü§ñ –ë–æ—Ç—ã", "services_bots")
        .row()
        .text("üì± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è", "services_apps")
        .text("‚ö° –°–∫—Ä–∏–ø—Ç—ã", "services_scripts")
        .row()
        .text("üîß –ü–æ–º–æ—â—å", "services_help")
        .row()
        .text("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", "start")

    const messageText =
        `üöÄ *–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?*\n\n` +
        `–Ø fullstack-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —Å–æ–∑–¥–∞—é digital-–ø—Ä–æ–¥—É–∫—Ç—ã –ø–æ–¥ –∫–ª—é—á.\n\n` +
        `üåê *–°–∞–π—Ç—ã* - –æ—Ç –ª–µ–Ω–¥–∏–Ω–≥–æ–≤ –¥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–≤\n` +
        `ü§ñ *–ë–æ—Ç—ã* - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è Telegram\n` +
        `üì± *–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è* - –¥–µ—Å–∫—Ç–æ–ø –∏ –º–æ–±–∏–ª—å–Ω—ã–µ\n` +
        `‚ö° *–°–∫—Ä–∏–ø—Ç—ã* - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω—ã\n` +
        `üîß *–ü–æ–º–æ—â—å* - –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è\n\n` +
        `–í—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:`

    sendEditMessage(ctx, messageText, keyboard)
}

// üåê –°–∞–π—Ç—ã
export function servicesWeb(ctx: AnyContext) {
    const keyboard = new InlineKeyboard()
        .text("üí¨ –û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç", "contacts")
        .text("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", "services")

    const messageText =
        `üåê *–°–∞–π—Ç—ã*\n\n` +
        `–°–æ–∑–¥–∞—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –±—ã—Å—Ç—Ä—ã–µ —Å–∞–π—Ç—ã –Ω–∞ Next.js:\n\n` +
        `üìÑ *–õ–µ–Ω–¥–∏–Ω–≥* | ${formatPrice(15000)}\n` +
        `–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∏–∫ –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞\n\n` +
        `üõçÔ∏è *–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω* | ${formatPrice(60000)}\n` +
        `–ö–∞—Ç–∞–ª–æ–≥, –∫–æ—Ä–∑–∏–Ω–∞, –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞\n\n` +
        `‚ö° *–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ* | ${formatPrice(80000)}\n` +
        `–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, API\n\n` +
        `üè¢ *–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç* | ${formatPrice(40000)}\n` +
        `–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∏–∫ —Å –∞–¥–º–∏–Ω–∫–æ–π\n\n` +
        `üí° *–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç:*\n` +
        `‚Ä¢ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω\n` +
        `‚Ä¢ SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è\n` +
        `‚Ä¢ –•–æ—Å—Ç–∏–Ω–≥ –∏ –¥–æ–º–µ–Ω\n` +
        `‚Ä¢ –û–±—É—á–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é`

    sendEditMessage(ctx, messageText, keyboard)
}

// ü§ñ –ë–æ—Ç—ã
export function servicesBots(ctx: AnyContext) {
    const keyboard = new InlineKeyboard()
        .text("üí¨ –û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç", "contacts")
        .text("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", "services")

    const messageText =
        `ü§ñ *Telegram –±–æ—Ç—ã*\n\n` +
        `–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é —É–º–Ω—ã—Ö –±–æ—Ç–æ–≤ –Ω–∞ grammY:\n\n` +
        `üõí *–î–ª—è –±–∏–∑–Ω–µ—Å–∞* | ${formatPrice(25000)}\n` +
        `–ü—Ä–∏–µ–º –∑–∞–∫–∞–∑–æ–≤, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n\n` +
        `üéÆ *–†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ* | ${formatPrice(15000)}\n` +
        `–ò–≥—Ä—ã, –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã, –∫–æ–Ω—Ç–µ–Ω—Ç\n\n` +
        `üìä *–° –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π* | ${formatPrice(35000)}\n` +
        `–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –æ—Ç—á–µ—Ç—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\n\n` +
        `üîó *–ò–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä—ã* | ${formatPrice(30000)}\n` +
        `–°–≤—è–∑–∫–∞ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏\n\n` +
        `üí° *–ß—Ç–æ —É–º–µ—é—Ç –º–æ–∏ –±–æ—Ç—ã:*\n` +
        `‚Ä¢ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–µ–Ω—é\n` +
        `‚Ä¢ –†–∞–±–æ—Ç–∞ —Å –º–µ–¥–∏–∞\n` +
        `‚Ä¢ –ë–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\n` +
        `‚Ä¢ –í–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è`

    sendEditMessage(ctx, messageText, keyboard)
}

// üì± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è
export function servicesApps(ctx: AnyContext) {
    const keyboard = new InlineKeyboard()
        .text("üí¨ –û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç", "contacts")
        .text("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", "services")

    const messageText =
        `üì± *–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è*\n\n` +
        `–°–æ–∑–¥–∞—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:\n\n` +
        `üíª *–î–µ—Å–∫—Ç–æ–ø* | ${formatPrice(40000)}\n` +
        `–î–ª—è Windows, macOS, Linux\n\n` +
        `üì± *–ú–æ–±–∏–ª—å–Ω—ã–µ* | ${formatPrice(50000)}\n` +
        `iOS –∏ Android\n\n` +
        `üåê *PWA* | ${formatPrice(30000)}\n` +
        `–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω—ã–µ\n\n` +
        `üîÑ *–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ* | ${formatPrice(70000)}\n` +
        `–û–¥–∏–Ω –∫–æ–¥ - –≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã\n\n` +
        `üí° *–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:*\n` +
        `‚Ä¢ TAURI / Electron\n` +
        `‚Ä¢ Capacitor / React Native\n` +
        `‚Ä¢ –ù–∞—Ç–∏–≤–Ω—ã–µ API\n` +
        `‚Ä¢ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è`

    sendEditMessage(ctx, messageText, keyboard)
}

// ‚ö° –°–∫—Ä–∏–ø—Ç—ã
export function servicesScripts(ctx: AnyContext) {
    const keyboard = new InlineKeyboard()
        .text("üí¨ –û–±—Å—É–¥–∏—Ç—å –∑–∞–¥–∞—á—É", "contacts")
        .text("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", "services")

    const messageText =
        `‚ö° *–°–∫—Ä–∏–ø—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è*\n\n` +
        `–ü–æ–º–æ–≥–∞—é –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —Ä—É—Ç–∏–Ω—ã:\n\n` +
        `üìä *–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö* | ${formatPrice(20000)}\n` +
        `–°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å —Å–∞–π—Ç–æ–≤\n\n` +
        `üîÑ *–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è* | ${formatPrice(25000)}\n` +
        `–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏\n\n` +
        `üîß *–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã* | ${formatPrice(10000)}\n` +
        `–ü–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏\n\n` +
        `ü§ñ *RPA* | ${formatPrice(40000)}\n` +
        `–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π\n\n` +
        `üí° *–ß—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é:*\n` +
        `‚Ä¢ –°–±–æ—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö\n` +
        `‚Ä¢ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤\n` +
        `‚Ä¢ –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞\n` +
        `‚Ä¢ –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ API`

    sendEditMessage(ctx, messageText, keyboard)
}

// üîß –ü–æ–º–æ—â—å
export function servicesHelp(ctx: AnyContext) {
    const keyboard = new InlineKeyboard()
        .text("üí¨ –ù–∞–ø–∏—Å–∞—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ", "contacts")
        .text("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", "services")

    const messageText =
        `üîß *–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å*\n\n` +
        `–ü–æ–º–æ–≥–∞—é —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏:\n\n` +
        `üîß *–î–æ—Ä–∞–±–æ—Ç–∫–∏* | –æ—Ç 800 ‚ÇΩ / $8 –≤ —á–∞—Å\n` +
        `–ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –ø—Ä–∞–≤–∫–∏\n\n` +
        `üêõ *–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫* | –æ—Ç 700 ‚ÇΩ / $7 –≤ —á–∞—Å\n` +
        `–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º\n\n` +
        `‚ö° *–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è* | ${formatPrice(20000)}\n` +
        `–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n\n` +
        `üíº *–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏* | –æ—Ç 1 500 ‚ÇΩ / $15 –≤ —á–∞—Å\n` +
        `–°–æ–≤–µ—Ç—ã –ø–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ\n\n` +
        `üí° *–ß—Ç–æ –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å:*\n` +
        `‚Ä¢ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª\n` +
        `‚Ä¢ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥–∏\n` +
        `‚Ä¢ –£—Å–∫–æ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É\n` +
        `‚Ä¢ –ü—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –∫–æ–¥—É`

    sendEditMessage(ctx, messageText, keyboard)
}